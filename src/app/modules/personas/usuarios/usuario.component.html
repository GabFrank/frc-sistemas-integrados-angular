<div class="container" style="padding: 15px;">
  <form [formGroup]="formGroup" (ngSubmit)="onSubmit()">

    <form class="example-form">
      <mat-form-field class="example-full-width">
        <mat-label>Personas</mat-label>
        <input type="text" matInput [formControl]="personaId" [matAutocomplete]="auto">
        <mat-autocomplete #auto="matAutocomplete" (optionSelected)='onPersonaSelected($event.option.value)'>
          <mat-option *ngFor="let persona of personas" [value]="persona.nombre">
            {{persona.id}} - {{persona.nombre}}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>
    </form>

    <br>

    <mat-divider></mat-divider>

    <br>

    <h4>Roles</h4>

    <div fxLayout="row" fxLayoutGap="10px" fxLayout="center center">
      <div fxFlex="30">
        <mat-card appearance="outlined">
          <mat-card-header>
            <mat-card-subtitle>Sin asignar</mat-card-subtitle>
          </mat-card-header>
          <mat-selection-list #roleList (selectionChange)="onSelectionChange($event)">
            <mat-list-option *ngFor="let role of roles" [value]="role">
              {{role}}
            </mat-list-option>
          </mat-selection-list>
        </mat-card>
      </div>

      <div fxFlex="7" style="padding-top: 100px;">
        <div fxLayout="column" fxLayoutGap="10px">
          <div fxFlex>
            <button mat-raised-button color="primary" style="width: 100%; height: 40px;" (click)="addRoles()"><h2>+</h2></button>
          </div>
          <div fxFlex>
            <button mat-raised-button color="warn" style="width: 100%; height: 40px;" (click)="removeRoles()"><h2>-</h2></button>
          </div>
        </div>
      </div>

      <div fxFlex="30">
        <mat-card appearance="outlined">
          <mat-card-header>
            <mat-card-subtitle>Asignado</mat-card-subtitle>
          </mat-card-header>
          <mat-selection-list #roleList (selectionChange)="onAssignedSelectionChange($event)">
            <mat-list-option *ngFor="let role of assigedRoles" [value]="role">
              {{role}}
            </mat-list-option>
          </mat-selection-list>
        </mat-card>
      </div>
    </div>

    <br>

    <mat-divider></mat-divider>

    <br>

    <div fxLayout="row" fxFlexAlign="start start">
      <div fxFlex="10">
        <button mat-raised-button color="primary" [disabled]="!formGroup.valid" type="submit">Aceptar</button>
      </div>
      <div fxFlex="10">
        <button mat-raised-button color="warn" type="reset">Cancelar</button>
      </div>
    </div>


  </form>
</div>
